@page "/fetchdata"
@using WebApplication1.Classes
@inject HttpClient Http

<h1>Contractor Info</h1>

<style>    
.divstyle{
    margin: 5px;
}
</style>

<p>Please Enter Your Information.</p>
@* <EditForm Model="_workerInformation" OnValidSubmit="Submit"> *@
@* *@
@* <InputText @bind-value="_workerInformation.FirstName"/> *@
@* *@
@* </EditForm> *@

<div class="divstyle">
    <span>
        First Name *:
    </span>
    <span>
        <input @bind="_workerInformation.FirstName" @bind:event="oninput" @onkeyup="KeyUpEventHandler"/>
    </span>
</div>
<div class="divstyle">
    <span>
        Last Name *:
    </span>
    <span>
        <input @bind="_workerInformation.LastName"/>
    </span>
</div>
<div class="divstyle">
    <span>
        Phone Number *:
    </span>
    <span>
        <input @bind="_workerInformation.PhoneNumber"/>
    </span>
</div>
<div class="divstyle">
    <span>
        City *:
    </span>
    <span>
        <input @bind="_workerInformation.City"/>
    </span>
    <span>
        State *:
    </span>
    <span>
        <input @bind="_workerInformation.City"/>
    </span>
    <span>
        Zip *:
    </span>
    <span>
        <input @bind="_workerInformation.City"/>
    </span>
</div>
<div style="color:red;">
    @ErrorMessage
</div>
<div>
    <button class="btn btn-primary" @onclick="Submit">Submit</button>
</div>

@code {
    private WorkerInformation _workerInformation;
    private string ErrorMessage { get; set; }

    protected override async Task OnInitializedAsync()
    {
        _workerInformation = new WorkerInformation();
    //forecasts = await Http.GetFromJsonAsync<WeatherForecast[]>("sample-data/weather.json");
    }

    private void KeyUpEventHandler(KeyboardEventArgs args)
    {
        ErrorMessage = "Blah";
    }

    private void Submit()
    {
        if (string.IsNullOrEmpty(_workerInformation.FirstName) || string.IsNullOrEmpty(_workerInformation.LastName))
            ErrorMessage = "Please enter all the information";
    }

}